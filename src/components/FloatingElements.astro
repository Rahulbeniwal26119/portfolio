---
const dots = Array.from({ length: 15 }).map((_, i) => ({
  startX: Math.random() * 100,
  startY: Math.random() * 100,
  midX: Math.random() * 100,
  midY: Math.random() * 100,
  delay: Math.random() * 20,
  opacity: 0.1 + Math.random() * 0.3
}));
---
<div class="floating-elements">
  {Array.from({ length: 15 }).map((_, i) => (
    <div class={`floating-dot dot-${i + 1}`}></div>
  ))}
</div>

<style define:vars={{
  dotStyles: dots.map((dot, i) => `
    .dot-${i + 1} {
      --startX: ${dot.startX}%;
      --startY: ${dot.startY}%;
      --midX: ${dot.midX}%;
      --midY: ${dot.midY}%;
      animation-delay: -${dot.delay}s;
      opacity: ${dot.opacity};
    }
  `).join('\n')
}}>
  .floating-elements {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    overflow: hidden;
  }

  .floating-dot {
    position: absolute;
    width: 4px;
    height: 4px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    animation: float-around 20s linear infinite;
  }

  @keyframes float-around {
    0% {
      transform: translate(var(--startX), var(--startY)) rotate(0deg);
    }
    50% {
      transform: translate(var(--midX), var(--midY)) rotate(180deg);
    }
    100% {
      transform: translate(var(--startX), var(--startY)) rotate(360deg);
    }
  }

  .floating-dot {
    --startX: 0%;
    --startY: 0%;
    --midX: 100%;
    --midY: 100%;
  }

  .dot-1 { --startX: 10%; --startY: 20%; --midX: 90%; --midY: 80%; animation-delay: -2s; opacity: 0.2; }
  .dot-2 { --startX: 30%; --startY: 40%; --midX: 70%; --midY: 60%; animation-delay: -4s; opacity: 0.3; }
  .dot-3 { --startX: 50%; --startY: 60%; --midX: 50%; --midY: 40%; animation-delay: -6s; opacity: 0.25; }
  .dot-4 { --startX: 70%; --startY: 80%; --midX: 30%; --midY: 20%; animation-delay: -8s; opacity: 0.35; }
  .dot-5 { --startX: 90%; --startY: 10%; --midX: 10%; --midY: 90%; animation-delay: -10s; opacity: 0.15; }
  .dot-6 { --startX: 20%; --startY: 90%; --midX: 80%; --midY: 10%; animation-delay: -12s; opacity: 0.3; }
  .dot-7 { --startX: 40%; --startY: 30%; --midX: 60%; --midY: 70%; animation-delay: -14s; opacity: 0.25; }
  .dot-8 { --startX: 60%; --startY: 50%; --midX: 40%; --midY: 50%; animation-delay: -16s; opacity: 0.2; }
  .dot-9 { --startX: 80%; --startY: 70%; --midX: 20%; --midY: 30%; animation-delay: -18s; opacity: 0.3; }
  .dot-10 { --startX: 15%; --startY: 85%; --midX: 85%; --midY: 15%; animation-delay: -1s; opacity: 0.25; }
  .dot-11 { --startX: 35%; --startY: 65%; --midX: 65%; --midY: 35%; animation-delay: -3s; opacity: 0.2; }
  .dot-12 { --startX: 55%; --startY: 45%; --midX: 45%; --midY: 55%; animation-delay: -5s; opacity: 0.3; }
  .dot-13 { --startX: 75%; --startY: 25%; --midX: 25%; --midY: 75%; animation-delay: -7s; opacity: 0.25; }
  .dot-14 { --startX: 95%; --startY: 5%; --midX: 5%; --midY: 95%; animation-delay: -9s; opacity: 0.2; }
  .dot-15 { --startX: 25%; --startY: 75%; --midX: 75%; --midY: 25%; animation-delay: -11s; opacity: 0.3; }
</style>